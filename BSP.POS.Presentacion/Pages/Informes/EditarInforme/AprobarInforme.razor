@page "/ValidarAprobacionInforme/{token}/{esquema}"
@inject IInformesInterface InformesService
@inject ILicenciasInterface LicenciasService
@inject IUsuariosInterface UsuariosService
@if (terminaCarga)
{
@if(string.IsNullOrEmpty(mensajeEsquema)){
        
        if (licenciaProximaAVencer)
        {
            <ModalAdvertencia mensaje="Licencia Próxima a vencer"></ModalAdvertencia>
        }
        @if (!licenciaActiva || !mismaMacAdress)
        {
            if (!licenciaActiva)
            {
                <ModalError mensaje="Licencia no activa, debe renovarla"></ModalError>
            }
            if (!mismaMacAdress)
            {
                <ModalError mensaje="La MacAddress no es la misma registrada"></ModalError>
            }
        }
        else
        {
            @if (tokenAprobacion.token_aprobacion != null && aprobado && terminaCarga)
            {
                <div class="h-100 w-100 fondo bg-body-secondary">

                    <h1 class="w-100 text-center text-black">Gestor de Servicios BSP</h1>
                    <ModalExito mensaje="El informe ha sido aprobado"></ModalExito>
                </div>
            }
            else
            {

                <div class="h-100 w-100 fondo bg-body-secondary">

                    <h1 class="w-100 text-center text-black">Gestor de Servicios BSP</h1>
                    <ModalError mensaje="Token o url inválido"></ModalError>
                </div>



            }
        }

       

    }
    else
    {
        <ModalError mensaje="@mensajeEsquema"></ModalError>
    }
}else{
    <div class="loader">
        <p class="heading">Loading</p>
        <div class="loading">
            <div class="load"></div>
            <div class="load"></div>
            <div class="load"></div>
            <div class="load"></div>
        </div>
    </div>
}


