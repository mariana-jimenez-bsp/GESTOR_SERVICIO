@using BSP.POS.Presentacion.Models.Clientes;
@using BSP.POS.Presentacion.Models.Informes;
@inject IInformesInterface InformesService
@inject IClientesInterface ClientesService
@inject NavigationManager navigationManager
@if(!string.IsNullOrEmpty(clienteAsociado.CLIENTE)){
<div class="col-md-7">
    <ClienteAsociado clienteAsociado="ClienteAsociado"></ClienteAsociado>
    <div class="background-reports">
        <div class="overflow-y-auto overflow-x-hidden scrollbar-report scrollbar-max-height">
            <div class="row d-flex justify-content-between m-2 reports-list">
                <div class="col-md-4 mb-2 d-flex justify-content-center align-items-center mouse-pointer add-report" @onclick="IrACrear">
                    
                    <img src="images/Home/Agregar.png" class="image-add"/>
                </div>
                @if (InformesService.ListaInformesAsociados.Count > 0)
                {
                    // Acceder a la lista de clientes en  formato JSON y hacer lo que necesites con ella
                    
                    // Ejemplo: mostrar la lista de clientes en la vista
                    foreach (var informe in InformesService.ListaInformesAsociados)
                    {
                        <div class="item-report-width col-md-4 d-flex row" @onclick="() => EnviarConsecutivo(informe.consecutivo, informe.estado)">
                            <div class="item-report click-report-up">
                                <span class="t-blue-dark">Informe de Servicios</span>
                                <span class="t-blue-dark">#@informe.consecutivo</span>
                                <hr>
                                <span class="update-report-text t-gray">Actualizado el @informe.fecha_actualizacion</span>

                                
                            </div>

                            @if (@informe.estado == "Finalizado")
                            {
                                <div class="bg-status-green borrador text-end text-light click-report-down">
                                    <span>@informe.estado</span>
                                </div>
                            }
                            else
                            {
                                <div class="bg-status-yellow borrador text-end text-light click-report-down">
                                    <span>@informe.estado</span>
                                </div>
                            }

                        </div>
                    }
                }
                else
                {

                }

            </div>

         
        </div>
    </div>
  <ConsecutivoInforme consecutivo="@Consecutivo" estado="@Estado"></ConsecutivoInforme>

</div>
}
